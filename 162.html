<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #162 (Maven: research use of Maven with native libraries)
     – ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/ticket/162">Ticket #162</a>
          <span class="status">(closed defect: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2010-08-23T11:51:35-05:00</p>
    <p>Last modified 2011-04-25T11:40:28-05:00</p>
  </div>
  <h2 class="summary searchable">Maven: research use of Maven with native libraries</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        curtis
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        curtis
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              major
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="/milestone/biweekly-2011%3A%20Apr-11%20to%20Apr-22">biweekly-2011: Apr-11 to Apr-22</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              Build System
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              serious
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Sometimes, a Java component will have one or more corresponding native libraries associated with it. In our case, we would like to migrate Rick's decon project to the Java repository under Maven, but it needs some native library integration to work properly.<br />
</p>
<p>
See <a class="ext-link" href="http://www.buildanddeploy.com/node/17"><span class="icon"> </span>this article</a> for some details.<br />
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2010-08-31T11:51:14-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>other</em> to <em>build</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2010-09-17T17:47:52-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2010: Sep-07 to Sep-17</em> to <em>biweekly-2010: Sep-20 to Oct-01</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2010-09-30T16:58:03-05:00 by aivar
                </h3>
                
    <div class="comment searchable">
      
      <p>
Using Maven2 to build projects which use JNI code<br />
Richard van der Hoff<br />
</p>
<p>
The solution he wound up with is to put the native code in a jar file then he wrote an open-source custom loader that decompresses from the jar file into a temporary directory and does the loadLibrary.<br />
</p>
<p>
<a class="ext-link" href="http://docs.codehaus.org/display/MAVENUSER/Projects+With+JNI"><span class="icon"> </span>http://docs.codehaus.org/display/MAVENUSER/Projects+With+JNI</a><br />
</p>
<p>
Maven code repository:<br />
</p>
<p>
<a class="ext-link" href="http://opensource.mxtelecom.com/maven/repo/com/wapmx/native/mx-native-loader/1.2/"><span class="icon"> </span>http://opensource.mxtelecom.com/maven/repo/com/wapmx/native/mx-native-loader/1.2/</a><br />
</p>
<p>
Here is the LICENSE file:<br />
</p>
<p>
Copyright (c) 2008 MX Telecom<br />
</p>
<p>
Permission is hereby granted, free of charge, to any person<br />
obtaining a copy of this software and associated documentation<br />
files (the "Software"), to deal in the Software without<br />
restriction, including without limitation the rights to use,<br />
copy, modify, merge, publish, distribute, sublicense, and/or sell<br />
copies of the Software, and to permit persons to whom the<br />
Software is furnished to do so, subject to the following<br />
conditions:<br />
</p>
<p>
The above copyright notice and this permission notice shall be<br />
included in all copies or substantial portions of the Software.<br />
</p>
<p>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,<br />
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES<br />
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND<br />
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT<br />
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,<br />
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING<br />
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR<br />
OTHER DEALINGS IN THE SOFTWARE.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2010-10-01T16:51:47-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2010: Sep-20 to Oct-01</em> to <em>biweekly-2010: Oct-04 to Oct-15</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed 2010-10-03T21:36:23-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
It looks like the <a class="ext-link" href="http://java.freehep.org/freehep-nar-plugin/"><span class="icon"> </span>FreeHEP Maven Native Archive Plugin</a> has gotten very good since van der Hoff's article (he even says as much). It looks like we may not even need CMake at all to use it. Hopefully it is good enough to meet our use cases.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2010-10-03T21:50:37-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
Turns out that freehep-nar-plugin has been replaced by <a class="ext-link" href="http://duns.github.com/maven-nar-plugin/"><span class="icon"> </span>maven-nar-plugin</a>.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed 2010-10-18T10:29:28-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2010: Oct-04 to Oct-15</em> to <em>biweekly-2010: Nov-01 to Nov-12</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed 2010-11-29T10:52:13-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2010: Nov-15 to Nov-24</em> to <em>biweekly-2010: Nov-29 to Dec-10</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed 2010-12-09T13:40:56-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>minor</em> to <em>major</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed 2011-02-15T09:39:16-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2011: Feb-14 to Feb-25</em> to <em>biweekly-2011: Mar-14 to Mar-25</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed 2011-03-13T21:37:48-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2011: Mar-14 to Mar-25</em> to <em>biweekly-2011: Mar-28 to Apr-08</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed 2011-03-13T22:36:15-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
Aivar now has a <a class="source" href="/browser/trunk/extra/native-library-util">source:trunk/extra/native-library-util</a> project for handling native libraries. I need to better understand how to use Maven to build native code, whether the maven-nar-plugin will be useful for deployment (Aivar says no), and how he is currently using the maven-native-plugin.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed 2011-04-25T11:22:39-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
At this point Aivar has done a lot more research into this issue, and generally has the maven-nar-plugin working with SLIM-curve. I am closing this ticket for the time being, and will reopen if needed.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed 2011-04-25T11:40:28-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
See ticket <a class="closed ticket" href="/ticket/281" title="task: Create multi-platform version of SLIMPlugin. (closed: fixed)">#281</a> for further details on Aivar's work.<br />
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="/ticket/162?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="/ticket/162?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="/ticket/162?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/about"><strong>Trac 0.12.2</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the ImageJ project at<br /><a href="http://developer.imagej.net/">http://developer.imagej.net/</a></p>
    </div>
  </body>
</html>
