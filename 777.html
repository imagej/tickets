<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #777 (Some images render differently in IJ2)
     – ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/ticket/777">Ticket #777</a>
          <span class="status">(closed defect: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2011-09-22T12:27:14-05:00</p>
    <p>Last modified 2013-10-07T16:33:05-05:00</p>
  </div>
  <h2 class="summary searchable">Some images render differently in IJ2</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        afraser
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        curtis
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              blocker
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              imagej2-b8-analysis
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              Display API
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              critical
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              display, rendering
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
              <a class="new" href="/ticket/1244" title="Fix rendering issues">#1244</a>
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2012-06-25 18:48:00.215494+00:00">
        (last modified by curtis)
      </span>
    </h3>
    <div class="searchable">
      <p>
Boats.gif appears more contrasty than the IJ1 version.<br />
</p>
<p>
I've confirmed that it's not just a different image file by saving the image to my desktop from IJ2 and reopening it in IJ1... it still looks different.<br />
</p>
<p>
This display issue hasn't been limited to this one file and is a huge problem, especially for testing functionality of other commands and plugins.<br />
</p>
<p>
Additional sample images that render differently in IJ2:<br />
</p>
<ul><li>CT (420K, 16-bit DICOM) — significantly less contrasty in IJ2
</li><li>Dot Blot (7K) — appears darker or more contrasty (subtle) in IJ2. Look at the dark spot at grid position (4,4)
</li><li>Gel (105K) — appears lighter in IJ2
</li><li>HeLa Cells (1.3M, 48-bit RGB) — appears darker in IJ2
</li><li>Mitosis (26MB, 5D stack) — significantly darker in IJ2
</li><li>Neuron (1.6M, 5 channels) — All channels appear darker and less contrasty in IJ2
</li><li>TEM Filter (112K) — Image is slightly darker in IJ2 (8 bit)
</li><li>Tree Rings (48K) — Image is lighter in IJ2
</li></ul><p>
tested with ff78f1f00c5069b267bd05ed9c5350c3100536f2<br />
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="/attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.26.59%20PM.png" title="View attachment">Screen shot 2011-09-22 at 1.26.59 PM.png</a>
      <a href="/raw-attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.26.59%20PM.png" class="trac-rawlink" title="Download"><img src="/chrome/common/download.png" alt="Download" /></a>
       (<span title="817381 bytes">798.2 KB</span>) -
      added by <em>afraser</em> 2011-09-22T12:28:08-05:00.
  </dt>
              <dd>
                Same image loaded in IJ2 (left) and IJ1 (right), note the contrast difference.
              </dd>
              <dt>
    <a href="/attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.30.18%20PM.png" title="View attachment">Screen shot 2011-09-22 at 1.30.18 PM.png</a>
      <a href="/raw-attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.30.18%20PM.png" class="trac-rawlink" title="Download"><img src="/chrome/common/download.png" alt="Download" /></a>
       (<span title="556676 bytes">543.6 KB</span>) -
      added by <em>afraser</em> 2011-09-22T12:32:17-05:00.
  </dt>
              <dd>
                CT sample image in IJ2 (left) and IJ1 (right)
              </dd>
              <dt>
    <a href="/attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.34.03%20PM.png" title="View attachment">Screen shot 2011-09-22 at 1.34.03 PM.png</a>
      <a href="/raw-attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.34.03%20PM.png" class="trac-rawlink" title="Download"><img src="/chrome/common/download.png" alt="Download" /></a>
       (<span title="151915 bytes">148.4 KB</span>) -
      added by <em>afraser</em> 2011-09-22T12:40:02-05:00.
  </dt>
              <dd>
                dot blot in IJ2 (left) and IJ1 (right)
              </dd>
              <dt>
    <a href="/attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.42.02%20PM.png" title="View attachment">Screen shot 2011-09-22 at 1.42.02 PM.png</a>
      <a href="/raw-attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.42.02%20PM.png" class="trac-rawlink" title="Download"><img src="/chrome/common/download.png" alt="Download" /></a>
       (<span title="711151 bytes">694.5 KB</span>) -
      added by <em>afraser</em> 2011-09-22T12:42:31-05:00.
  </dt>
              <dd>
                gel.gif in IJ2 (left) and IJ1 (right)
              </dd>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change">
                <h3 class="change">
                  Changed 2011-09-22T12:28:08-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>attachment</strong>
        <a href="/attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.26.59%20PM.png"><em>Screen shot 2011-09-22 at 1.26.59 PM.png</em></a>
          <a href="/raw-attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.26.59%20PM.png" title="Download" class="trac-rawlink"><img src="/chrome/common/download.png" alt="Download" /></a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Same image loaded in IJ2 (left) and IJ1 (right), note the contrast difference.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2011-09-22T12:31:48-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified
    </li><li>
      <strong>Summary</strong>
        changed from <em>boats.gif renders differently in IJ2</em> to <em>Some images render differently in IJ2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed 2011-09-22T12:32:17-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>attachment</strong>
        <a href="/attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.30.18%20PM.png"><em>Screen shot 2011-09-22 at 1.30.18 PM.png</em></a>
          <a href="/raw-attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.30.18%20PM.png" title="Download" class="trac-rawlink"><img src="/chrome/common/download.png" alt="Download" /></a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
CT sample image in IJ2 (left) and IJ1 (right)<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2011-09-22T12:39:28-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed 2011-09-22T12:40:02-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>attachment</strong>
        <a href="/attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.34.03%20PM.png"><em>Screen shot 2011-09-22 at 1.34.03 PM.png</em></a>
          <a href="/raw-attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.34.03%20PM.png" title="Download" class="trac-rawlink"><img src="/chrome/common/download.png" alt="Download" /></a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
dot blot in IJ2 (left) and IJ1 (right)<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2011-09-22T12:41:10-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed 2011-09-22T12:42:31-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>attachment</strong>
        <a href="/attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.42.02%20PM.png"><em>Screen shot 2011-09-22 at 1.42.02 PM.png</em></a>
          <a href="/raw-attachment/ticket/777/Screen%20shot%202011-09-22%20at%201.42.02%20PM.png" title="Download" class="trac-rawlink"><img src="/chrome/common/download.png" alt="Download" /></a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
gel.gif in IJ2 (left) and IJ1 (right)<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2011-09-22T14:21:05-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed 2011-09-26T11:32:15-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2011-09-26T11:45:47-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>curtis</em> to <em>afraser</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed 2011-10-24T13:23:42-05:00 by afraser
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>afraser</em> to <em>curtis</em>
    </li><li>
      <strong>Description</strong>
        modified
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed 2011-11-07T11:05:22-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>curtis</em> to <em>gharris</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed 2012-01-26T12:44:45-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>gharris</em> to <em>curtis</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed 2012-02-27T11:00:57-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>imagej-2.0-beta1</em> to <em>imagej-2.0-beta2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed 2012-06-25T13:47:39-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>1244</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed 2012-06-25T13:48:00-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified
    </li><li>
      <strong>Milestone</strong>
        changed from <em>imagej-2.0.0-beta3</em> to <em>imagej-2.0.0-beta4</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed 2012-06-25T13:48:56-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>1244</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed 2012-08-14T10:47:28-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>imagej-2.0.0-beta4</em> to <em>imagej-2.0.0-beta5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
This ticket does not fit the beta4 theme of plugin work. It will fit in marginally better with the beta5 theme of flexible data handling.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed 2012-11-21T16:59:30-06:00 by aivar
                </h3>
                
    <div class="comment searchable">
      
      <p>
I'm not sure how Adam captured these images, but note that the IJ2 screenshot plugin distorts colors also, see trac <a class="new ticket" href="/ticket/1576" title="defect: Capture Screen &amp; Capture Image distort colors (new)">#1576</a>.  So these screenshots are certainly valid for comparing results but the colors may differ from an actual 'live' IJ2 window.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed 2013-03-07T15:47:18-06:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>imagej2-b7-ndim-data</em> to <em>imagej2-b8-analysis</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed 2013-10-07T16:33:05-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Quite a while ago the legacy layer was changed to use IJ1's display range settings when possible. So opening these images via Open Samples results in the same views with no apparent differences. Saving these images to disk and opening them in IJ2 via the Open command will likely have display differences as our current DefaultAutoscaleMethod does not match IJ1's approach. There is already a ticket for that (<a class="closed ticket" href="/ticket/794" title="defect: 16 bit images should auto scale on load (closed: moved)">#794</a>) and so I am closing this ticket as fixed.<br />
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="/wiki/TracTickets">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="/ticket/777?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="/ticket/777?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="/ticket/777?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/about"><strong>Trac 0.12.2</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the ImageJ project at<br /><a href="http://developer.imagej.net/">http://developer.imagej.net/</a></p>
    </div>
  </body>
</html>
