<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #1452 (Provide an easy way to drive the updater for 3rd party update sites)
     – ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/ticket/1452">Ticket #1452</a>
          <span class="status">(closed enhancement: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2012-09-04T10:52:26-05:00</p>
    <p>Last modified 2013-08-15T15:05:52-05:00</p>
  </div>
  <h2 class="summary searchable">Provide an easy way to drive the updater for 3rd party update sites</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        dscho
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        dscho
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              minor
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="/milestone/imagej2-b7-ndim-data">imagej2-b7-ndim-data</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              Updater
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              minor
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              melissa@…, ctrueden@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
              <a class="closed" href="/ticket/1901" title="Improve the Updater [ndim-data]">#1901</a>
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
We want to offer easy uploading for projects such as Bio-Formats. This means that we should not require a graphical upload but provide a scriptable way, such as the command-line updater.<br />
</p>
<p>
A couple of issues need to be addressed for this to be convenient, though:<br />
</p>
<ul><li>It should be easy to upload/remove from a given working directory, i.e. upload everything that is new (including new files) and remove everything that is no longer there
</li><li>We need to make sure that cross-site dependencies, such as IJ2 depending on BF depending on IJ1 are handled gracefully.
</li></ul>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2012-09-04T11:03:07-05:00 by melissa
                </h3>
                
    <div class="comment searchable">
      
      <p>
See also: <a class="ext-link" href="https://trac.openmicroscopy.org.uk/ome/ticket/9342"><span class="icon"> </span>https://trac.openmicroscopy.org.uk/ome/ticket/9342</a><br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2012-12-27T13:53:18-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>ij-core</em> to <em>ij-updater</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2013-02-25T12:38:24-06:00 by dscho
                </h3>
                
    <div class="comment searchable">
      
      <p>
To accomplish this target, we need to extend the 'upload' subcommand of the command-line updater to take a <em>--update-site=</em> argument and automatically assign this update site to all the files passed via that command line. That way, we can glob all the to-be-added files, even if they haven't been uploaded before.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2013-03-07T13:02:57-06:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>imagej2-b7-ndim-data</em> to <em>imagej2-b8-analysis</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed 2013-03-22T15:51:27-05:00 by dscho
                </h3>
                
    <div class="comment searchable">
      
      <p>
One enhancement relevant to this ticket is that you can now specify which upload site you want to upload to. This will upload all specified files to the given update site, even if they are new.<br />
</p>
<p>
There is not yet a mode to force shadowing (i.e. uploading components to update sites that will then override other update sites' components), though.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2013-04-04T13:59:48-05:00 by dscho
                </h3>
                
    <div class="comment searchable">
      
      <p>
The new <em>upload-complete-site</em> command will help, I am sure. There is no mode yet to force-shadow existing update sites' files with overriding ones (think: shadowing a stable <em>loci_plugins.jar</em> from an unstable update site), but we're slowly getting there: 8b7bcce95fef6254b829d7dbab421454d1d2d816<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed 2013-04-04T17:51:30-05:00 by dscho
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
With f1103cf3f15658e42eebd6d9fc7c69aa9ffcc8c4 I declare this issue closed. I would just wish that others would work as hard for my wishes as I do for theirs.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed 2013-04-11T17:36:37-05:00 by dscho
                </h3>
                
    <div class="comment searchable">
      
      <p>
This actually needed a bit more work, including adding a --simulate option. See the four commits leading up to d0d383ca116371ef9de6ccc5d8b4e370a3023835. Now it is truly fixed (and was used to upload ImageJ itself, tagged as <em>uploaded-2013-04-11</em>).<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed 2013-05-31T16:04:29-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>1901</em> added; <em>1347</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed 2013-05-31T16:11:10-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>imagej2-b8-analysis</em> to <em>imagej2-b7-ndim-data</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed 2013-08-15T15:05:52-05:00 by dscho
                </h3>
                
    <div class="comment searchable">
      
      <p>
In a blatant move to side-step my educative exercise to let the people most interested in a certain feature take care of making said feature a reality instead, Curtis went ahead and set up a Jenkins job:<br />
</p>
<p>
<a class="ext-link" href="http://jenkins.imagej.net/view/All/job/Bio-Formats-ImageJ-daily/"><span class="icon"> </span>http://jenkins.imagej.net/view/All/job/Bio-Formats-ImageJ-daily/</a><br />
</p>
<p>
and added the corresponding update site to the list of update sites presented in the updater's site dialog:<br />
</p>
<p>
<a class="ext-link" href="http://fiji.sc/index.php?title=List_of_update_sites&amp;curid=1690&amp;diff=8451&amp;oldid=8384"><span class="icon"> </span>http://fiji.sc/index.php?title=List_of_update_sites&amp;curid=1690&amp;diff=8451&amp;oldid=8384</a><br />
</p>
<p>
Thanks, Curtis.<br />
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/about"><strong>Trac 0.12.2</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the ImageJ project at<br /><a href="http://developer.imagej.net/">http://developer.imagej.net/</a></p>
    </div>
  </body>
</html>
