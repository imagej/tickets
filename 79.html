<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #79 (Run ImageJ Neuron Plugin from CellProfiler)
     – ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/ticket/79">Ticket #79</a>
          <span class="status">(closed task: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2010-06-01T15:11:23-05:00</p>
    <p>Last modified 2012-02-23T14:38:09-06:00</p>
  </div>
  <h2 class="summary searchable">Run ImageJ Neuron Plugin from CellProfiler</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        afraser
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        leek
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              major
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="/milestone/biweekly-2010%3A%20Jun-14%20to%20Jun-25">biweekly-2010: Jun-14 to Jun-25</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              CellProfiler
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              minor
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
              <a class="closed" href="/ticket/22" title="ImageJ module for CellProfiler">#22</a>
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Part of our grant is to show that interfacing with ImageJ allows CellProfiler users to do something they couldn't do before. CP is currently lacking neuron-processing modules, so this is a good use case to start with.<br />
</p>
<p>
Will search for existing fully automated neuron plugins in ImageJ, and use the CP-IJ connection that we've built to make use of it.  If an existing plugin can not be found, I will find a useful neuron-processing/measuring algorithm and implement it as an ImageJ plugin first.<br />
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2010-06-29T10:50:43-05:00 by leek
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>afraser</em> to <em>leek</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
We have begun to use ImageJ to process images in a neuron-related assay. The Tubeness plugin (<a class="ext-link" href="http://homepages.inf.ed.ac.uk/s9808248/imagej/tubeness/"><span class="icon"> </span>http://homepages.inf.ed.ac.uk/s9808248/imagej/tubeness/</a>) enhances neurites in neuron images by enhancing gradients at particular scales.<br />
</p>
<p>
Part of this effort involved integrating ImageJ into our Unix cluster infrastructure. We're running Python, CellProfiler and ImageJ using the Xvfb (<a class="ext-link" href="http://en.wikipedia.org/wiki/Xvfb"><span class="icon"> </span>http://en.wikipedia.org/wiki/Xvfb</a>) virtual frame buffer server for X-windows - this lets us "display" GUI elements during headless operation; drawing operations take place on the virtual frame buffer instead of on a true video device.<br />
</p>
<p>
We have used a color deconvolution plugin (<a class="ext-link" href="http://www.dentistry.bham.ac.uk/landinig/software/cdeconv/cdeconv.html"><span class="icon"> </span>http://www.dentistry.bham.ac.uk/landinig/software/cdeconv/cdeconv.html</a>), stack focuser (<a class="ext-link" href="http://rsbweb.nih.gov/ij/plugins/stack-focuser.html"><span class="icon"> </span>http://rsbweb.nih.gov/ij/plugins/stack-focuser.html</a>) and a kalman filter (<a class="ext-link" href="http://rsbweb.nih.gov/ij/plugins/kalman.html"><span class="icon"> </span>http://rsbweb.nih.gov/ij/plugins/kalman.html</a>) successfully, but informally in CellProfiler through the bridge to ImageJ.<br />
</p>
<p>
CellProfiler processes a stack of images sequentially as part of an image group; ImageJ maintains the entire stack in memory simultaneously. I enhanced CellProfiler's ImageJ module to run macros at the start and end of group processing so that I could use the stack focuser on a stack of images. My pipeline initializes the ImageJ stack at the start of group processing, adds images to the stack during group processing, then runs the stack focuser (or other stack operation) at the conclusion of group processing.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2010-06-29T13:32:23-05:00 by leek
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2012-02-23T14:38:09-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>22</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
          </div>
        </div>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/about"><strong>Trac 0.12.2</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the ImageJ project at<br /><a href="http://developer.imagej.net/">http://developer.imagej.net/</a></p>
    </div>
  </body>
</html>
