<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #336 (Continue work on revision 3 of imglib-ops)
     â€“ ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/ticket/336">Ticket #336</a>
          <span class="status">(closed task: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2011-02-11T15:43:44-06:00</p>
    <p>Last modified 2011-09-12T10:18:31-05:00</p>
  </div>
  <h2 class="summary searchable">Continue work on revision 3 of imglib-ops</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        bdezonia
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        bdezonia
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              major
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="/milestone/imagej-2.0-alpha5">imagej-2.0-alpha5</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              ImgLib2
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              serious
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Rev 2 of AssignOperation code is in the imglib-ops subproject of Imglib. Rev 3 is mostly complete in the test branch of the imglib-ops subproject in the example.rev3 package. This code needs enhancement to fully replace rev 2.<br />
</p>
<p>
One thing it needs is for ComposedImageFunction to be finished. This code allows one to compose multiple subregions of images as one virtual image that one can sample. This would support the ability to combine regions of data (within one image or many) into the output image.<br />
</p>
<p>
Another thing it needs is the definition of the domain within each function. This would allow one to reason whether an in place change can be done safely. It also would simplify the parallelization of an operation.<br />
</p>
<p>
Finally it needs more functionality ported to it from IJ2 and reconciled with imglib scripting.<br />
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2011-02-11T15:43:49-06:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2011-02-15T11:15:11-06:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
By additional IJ2 functionality I mean porting the various Unary/Binary functions in ij2-common. But they can be less constrained by type considerations as we don't need to match IJ1 exactly. If the user wants exact IJ1 behavior they should send their data (converted if necessary) to IJ1.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2011-02-15T11:50:09-06:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
A few things that need to be done also<br />
</p>
<ul><li>make things "final" where possible and test speeds and improve where possible
</li><li>make interfaces such that plugins can easily create and run Operations
</li><li>make a simple operation that does no condition testing and no notifications
</li><li>make rev3 friendly for multithreading by creating copies of input functions
</li><li>extend functions to have domains where their well defined
</li><li>extend functions to delineate their relative input neighborhood
</li></ul><p>
(these last two very useful for multithreading)<br />
</p>
<ul><li>add more implementations of IntegralScalarFunction, UnaryOperator, BinaryOperator, etc.
</li><li>go back to passing T's around as outputs to function.evaluate() so that complex numbers can be supported
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2011-02-17T12:06:12-06:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
one more change needed:<br />
</p>
<ul><li>ImageFunction should be able to be accessed out of bounds by initializing an out of bounds cursor. Maybe pass in factory to constructor.
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed 2011-02-24T14:22:53-06:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
Just a note that ComposedImageFunction was completed a while ago in rev3 ops.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2011-02-24T14:39:35-06:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
In testing ComposedImageFunction I found a design issue with rev3 ops. Let's say that we want to create a 2d image that is the average of 3 other images. The 3 images represent a 3d dataset (as a COmposedImageFunction). The code for walking the output image is in 2d. So ideally we need a way to pass a 2d index to a 3d dataset and get back a subset representing the z values. then we'd average these z values. must consider best way to handle this in rev3 ops.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed 2011-03-04T13:49:15-06:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
Note that some changes were made to rev 2 (not 3) of ops to accommodate the creation of pure IJ2 plugins. These changes will need to make their way into rev 3 ops.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed 2011-03-14T10:38:06-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Summary</strong>
        changed from <em>Continue work on imglib-ops</em> to <em>Continue work on revision 3 of imglib-ops</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed 2011-03-23T13:41:14-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2011: Mar-14 to Mar-25</em> to <em>biweekly-2011: Mar-28 to Apr-08</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed 2011-05-10T11:06:37-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2011: Apr-25 to May-06</em> to <em>imagej-2.0-beta1</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed 2011-07-27T15:10:43-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>imagej-2.0-beta1</em> to <em>imagej-2.0-alpha5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed 2011-08-01T13:57:38-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
I have spent some time on nights and weekends working on a revamp of the functional code. I have new insights into a more useful approach. Will hopefully bring to fruition soon.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed 2011-08-16T20:30:48-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Committed rev 6 of imglib ops and incorporated changes into IJ2 with 4f3811104399f2349fd49490f5c298d2128fc4cc. Enhancement tickets to follow.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed 2011-09-12T10:18:31-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
Over the last few weeks many updates to architecture and numerous Real and Complex operations added.<br />
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="/ticket/336?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="/ticket/336?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="/ticket/336?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/about"><strong>Trac 0.12.2</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the ImageJ project at<br /><a href="http://developer.imagej.net/">http://developer.imagej.net/</a></p>
    </div>
  </body>
</html>
