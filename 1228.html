<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #1228 (Add functionality to OPS' EquationParser)
     – ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/ticket/1228">Ticket #1228</a>
          <span class="status">(closed defect: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2012-06-18T15:35:21-05:00</p>
    <p>Last modified 2014-05-06T10:14:20-05:00</p>
  </div>
  <h2 class="summary searchable">Add functionality to OPS' EquationParser</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        bdezonia
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        bdezonia
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              major
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              imagej2-unscheduled
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              ImgLib2 OPS
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              serious
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
              <a class="new" href="/ticket/1632" title="Add new functionality to showcase IJ2">#1632</a>
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2012-07-23 17:25:08.222129+00:00">
        (last modified by bdezonia)
      </span>
    </h3>
    <div class="searchable">
      <p>
It is a simple matter to enhance the OPS' equation syntax by adding more unary functions to the unary operation packages and then adding their signature to reservedWordLookup() in OP's parse subpackage Lexer class.<br />
</p>
<p>
By enhancing the language we make ImageJ2's Process &gt; Math &gt; Equation command more powerful. We also add power to Imglib OPS' TextSpecifiedPointSet class.<br />
</p>
<p>
We could look at other packages to see common functions we do not yet support. Some such packages to consider would be numpy, scipy, gnu scientific library, the jscience library, apache commons math, etc.<br />
</p>
<p>
Some functions already of interest might be sigmoid, logit, logistic, harmonic oscialltor, gamma, and exp2 (is this just 2<sup>x</sup>?).<br />
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2012-07-03T15:12:12-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
Another simple extension: "tmin" and "tmax" which return the min and max possible values for the type of the input image. For instance a 16 bit unsigned image would return 0 for tmin and 65535 for tmax.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2012-07-16T10:21:32-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
And another function: step(x). step(x) = 0 if x &lt; 0 and 1 otherwise. This matches Mathematica's implementation of the Heaviside Step Function. Note that step(0) == 1 here while using the textbook definition it should == 0.5.<br />
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited 2012-07-16T10:38:19-05:00
                      by bdezonia
                </div>
              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2012-07-16T10:22:09-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
See also ticket <a class="closed ticket" href="/ticket/1314" title="defect: Enhance OPS equation language (closed: fixed)">#1314</a><br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2012-07-16T15:38:20-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>1333</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed 2012-07-23T12:25:08-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2012-07-23T13:49:02-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
With imglib commit 0b39355b34f3dbb395f8b8033a358b248323940d tmin, tmax, and step added as equation tokens.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed 2012-09-07T11:25:34-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>1460</em> added; <em>1333</em> removed
    </li><li>
      <strong>Milestone</strong>
        changed from <em>imagej-2.0.0-beta4</em> to <em>imagej-2.0.0-beta5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed 2012-10-16T14:55:14-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
Other funcs to add: min(x,y) (or x min y), max(x,y) or (x max y).<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed 2012-10-17T12:37:22-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
With imglib commit d80e2a8dc8d34054fb5ef2fe961c6bc081de60f3 min() and max() added to equation language<br />
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited 2012-10-17T12:37:54-05:00
                      by bdezonia
                </div>
              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed 2013-01-23T09:44:47-06:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>1632</em> added; <em>1460</em> removed
    </li><li>
      <strong>Milestone</strong>
        changed from <em>imagej2-b7-ndim-data</em> to <em>imagej2-unscheduled</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed 2014-05-06T10:14:20-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
ImgLib2 OPS has been supplanted by ImageJ OPS. The <a class="ext-link" href="https://github.com/imagej/imagej-ops/blob/imagej-ops-0.3.0/src/main/java/net/imagej/ops/equation/DefaultEquation.java"><span class="icon"> </span>ImageJ OPS equation op</a> cheats by using Javascript, so the syntax is very powerful at the expense of performance. That's good enough for me for now, and with the ImageJ OPS framework it is always possible to add other higher-priority special case ops for performance, should it become necessary.<br />
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    </div>
  </body>
</html>
