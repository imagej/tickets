<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #723 (Clear Preferences Plugin)
     â€“ ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="723.html">Ticket #723</a>
          <span class="status">(closed defect: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2011-08-15T13:40:25-05:00</p>
    <p>Last modified 2011-11-14T10:58:54-06:00</p>
  </div>
  <h2 class="summary searchable">Clear Preferences Plugin</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        gharris
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        bdezonia
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              major
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="/milestone/imagej2-b1-initial">imagej2-b1-initial</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              Plugins
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              serious
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Add a plugin to clear the IJ2 Preferences, thus falling back to the default parameter values.<br />
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2011-09-02T09:59:55-05:00 by gharris
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>imagej-2.0-alpha5</em> to <em>imagej-2.0-beta1</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2011-09-09T11:20:15-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>gharris</em> to <em>bdezonia</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Assigning to Barry since he is working on the Options code.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2011-09-19T12:44:20-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
Grant, can you clarify this? Do you mean reset the values of the OptionsPlugins? (Arrow Size, Font, Threads, etc.) Or do you mean for all plugins/preferences in the whole program and user plugins?<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2011-09-19T14:21:41-05:00 by gharris
                </h3>
                
    <div class="comment searchable">
      
      <p>
Given that we are using the Prefs API, if we just remove all of the entries (from the backstore/registry), it effectively resets all defaults.  (AFAIK, anything that gets a Pref value needs to provide a default.)<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed 2011-09-19T16:30:05-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
682a930c788b5292f633162ec5e9a34280e8fe6a contains an implementation of a reset options plugin. so it does not clear everything but could be extended if needed.<br />
</p>
<p>
implementation was straightforward. need to test a couple things:<br />
</p>
<p>
1) if reset is run are there synchronization issues (like options dialogs load their fields correctly but are there existing settings in use that need to be updated?)<br />
</p>
<p>
2) attempted to test if code is working. Process &gt; Math &gt; Divide relies on divide by zero value from Edit &gt; Options &gt; Misc. Should be able to set DBZ val to something like 10 and run Process &gt; Math &gt; Divide and pass 0 as value. This should set input image to all 10's. Unfortunately it is not working. In DivideDataValuesBy the call to getOption() is always returning "infinity" (the default value in the options dialog) rather than the currently set value. Determine why.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2011-09-20T09:50:08-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
2) fixed in 3741d1d14046f114349fa662f73cdfb0c7426f15 and 50c60bbd1cb3b90d73425a86a1395ea1842884c8<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed 2011-09-20T09:55:01-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
After some testing I don't think 1) is an issue.<br />
</p>
<p>
All that is left to do is determine whether resetting Options defaults is enough. Or do we need to reset all imagej.* prefs (such as other dialogs' values. This could affect 3rd party plugins if they use the IJ2 Prefs mechanism.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed 2011-09-20T10:07:07-05:00 by gharris
                </h3>
                
    <div class="comment searchable">
      
      <p>
How about reset the Options settings and have an option to reset ALL (meaning imagej.*) ?<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed 2011-10-13T13:45:18-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>ij-ext</em> to <em>ij-plugins</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed 2011-11-14T10:58:54-06:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
In b7bc8516a7e860272675d9b621be3d9967845a8e added ability for ShowPrefs plugin to clear existing preferences<br />
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    </div>
  </body>
</html>
