<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #96 (Migrate LOCI repositories to Maven)
     – ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/ticket/96">Ticket #96</a>
          <span class="status">(closed task: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2010-06-21T14:40:40-05:00</p>
    <p>Last modified 2010-09-10T17:04:08-05:00</p>
  </div>
  <h2 class="summary searchable">Migrate LOCI repositories to Maven</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        curtis
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        curtis
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              critical
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="/milestone/biweekly-2010%3A%20Sep-07%20to%20Sep-17">biweekly-2010: Sep-07 to Sep-17</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              Build System
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              non-issue
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Currently we use custom Ant scripts for the LOCI Java Software repository. We also have several other repositories including the ImageJDev work, and miscellaneous LOCI tools. The goal is to unify the build process for all of these tools using Maven.<br />
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2010-06-21T14:50:35-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        set to <em>curtis</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2010-06-28T16:15:02-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2010-06-29T12:35:32-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>critical</em> to <em>major</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2010-07-09T10:15:40-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>critical</em>
    </li><li>
      <strong>Severity</strong>
        changed from <em>serious</em> to <em>non-issue</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2010: Jun-28 to Jul-09</em> to <em>biweekly-2010: Jul-12 to Jul-23</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed 2010-07-26T10:31:00-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2010: Jul-12 to Jul-23</em> to <em>biweekly-2010: Jul-26 to Aug-06</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2010-07-29T16:05:43-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
Relevant Maven articles:<br />
</p>
<ul><li><a class="ext-link" href="http://www.javaworld.com/javaworld/jw-05-2006/jw-0529-maven.html"><span class="icon"> </span>The Maven 2 POM demystified</a>
</li><li><a class="ext-link" href="http://netbeans.dzone.com/news/ide-agnostic-swing-rcp-develop"><span class="icon"> </span>IDE-Agnostic Swing RCP Development</a>
</li></ul><p>
Miscellaneous:<br />
</p>
<ul><li>Establish a LOCI Maven repository
</li><li>Move mpicbg/imglib/test code into test subtree
</li><li>What does Fiji's bin/maven.sh script do?
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed 2010-08-06T18:01:03-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2010: Jul-26 to Aug-06</em> to <em>biweekly-2010: Aug-09 to Aug-20</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
I did a lot of work toward this ticket in the last few days, culminating in a Maven branch (<a class="ext-link" href="http://dev.loci.wisc.edu/trac/software/intertrac/r6776" title="r6776 in LOCI Software"><span class="icon"> </span>loci-java:r6776</a>), but there is still more to be done. However, much of it is mechanical: relocating directory subtrees and defining pom.xml metadata for the remaining LOCI Java software projects. Then we can move on to the ImageJ repositories.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed 2010-08-20T14:23:06-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
Several more projects have been migrated to Maven:<br />
</p>
<ul><li>flow-cytometry
</li><li>ome-io
</li><li>ome-plugins
</li><li>slim-plotter
</li><li>utils
</li><li>visbio
</li></ul><p>
In addition, a new jar2lib Maven project was created.<br />
</p>
<p>
However, the following projects still need to be migrated:<br />
</p>
<ul><li>autogen
</li><li>bf-ice
</li><li>checkstyle
</li><li>test-suite
</li><li>jvmlink (legacy)
</li><li>multi-lut (legacy)
</li><li>ome-editor (legacy)
</li><li>ome-notes (legacy)
</li><li>imagej (in git)
</li><li>imglib (in git)
</li></ul><p>
Also, the following tasks still remain:<br />
</p>
<ul><li>Get TestNG-based unit tests working
</li><li>Create assemblies for loci_tools.jar and ome_tools.jar
</li><li>Migrate Bio-Formats command line tools to bio-formats/src/main/scripts
</li><li>Resolve filtering issues (e.g., "@year@") with the source code (use <a class="ext-link" href="http://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files"><span class="icon"> </span>resource filtering</a>?)
</li><li>Eliminate scan-deps.pl (dependency:analyze target?)
</li><li>Find a way to create distribution bundles (e.g., VisBio's "ant dist" target) for binary releases (appassembler plugin?)
</li><li>Produce appropriate Eclipse settings (e.g., ignore warnings for forked projects) when using the <a class="ext-link" href="http://maven.apache.org/plugins/maven-eclipse-plugin/eclipse-mojo.html"><span class="icon"> </span>eclipse plugin</a>
</li><li>Research <a class="ext-link" href="http://www.buildanddeploy.com/node/17"><span class="icon"> </span>using Maven with native libraries</a> (e.g., to convert decon repository to Maven)
</li><li>Write developer documentation explaining how to use Maven (e.g., how to use m2eclipse &amp; extras to work with Maven projects in Eclipse)
</li><li>Consider posting the output of Maven's site:site target to dev.loci.wisc.edu
</li><li>Develop a better style checking procedure (look into the <a class="ext-link" href="http://maven.apache.org/plugins/maven-checkstyle-plugin/usage.html"><span class="icon"> </span>checkstyle plugin</a>'s predefined rulesets or create our own, and develop a set of Eclipse auto-formatting rules to match)
</li><li>Develop better code coverage analysis (e.g., Cobertura &amp; Clirr; see <a class="ext-link" href="http://www.maestrodev.com/node/91"><span class="icon"> </span>Better Builds with Maven, Chapter 6</a>)
</li></ul><p>
Once the projects listed above have been migrated, I will close this ticket, and create a separate ticket for each of the above tasks with appropriate prioritization.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed 2010-08-23T12:02:42-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
The tasks mentioned above have been filed as separate tickets:<br />
</p>
<ul><li><a class="closed ticket" href="/ticket/155" title="defect: Maven: get TestNG-based unit tests working (closed: wontfix)">#155</a>: get TestNG-based unit tests working
</li><li><a class="closed ticket" href="/ticket/156" title="defect: Maven: create assemblies for loci_tools.jar and ome_tools.jar (closed: fixed)">#156</a>: create assemblies for loci_tools.jar and ome_tools.jar
</li><li><a class="closed ticket" href="/ticket/157" title="defect: Maven: migrate Bio-Formats command line tools (closed: wontfix)">#157</a>: migrate Bio-Formats command line tools
</li><li><a class="closed ticket" href="/ticket/158" title="defect: Maven: resolve filtering issues (closed: wontfix)">#158</a>: resolve filtering issues 
</li><li><a class="closed ticket" href="/ticket/159" title="defect: Maven: eliminate scan-deps.pl script (closed: fixed)">#159</a>: eliminate scan-deps.pl script 
</li><li><a class="closed ticket" href="/ticket/160" title="defect: Maven: find a way to create distribution bundles (closed: fixed)">#160</a>: find a way to create distribution bundles
</li><li><a class="closed ticket" href="/ticket/161" title="defect: Maven: better Eclipse project metadata (closed: wontfix)">#161</a>: better Eclipse project metadata
</li><li><a class="closed ticket" href="/ticket/162" title="defect: Maven: research use of Maven with native libraries (closed: fixed)">#162</a>: research use of Maven with native libraries
</li><li><a class="closed ticket" href="/ticket/163" title="task: Maven: write developer documentation on Maven best practices (closed: fixed)">#163</a>: write developer documentation on Maven best practices
</li><li><a class="closed ticket" href="/ticket/164" title="task: Maven: post site:site output online (closed: fixed)">#164</a>: post site:site output online 
</li><li><a class="closed ticket" href="/ticket/165" title="task: Maven: better style checking procedure (closed: fixed)">#165</a>: better style checking procedure
</li><li><a class="closed ticket" href="/ticket/166" title="task: Maven: better code coverage analysis (closed: wontfix)">#166</a>: better code coverage analysis
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed 2010-08-23T12:03:29-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>biweekly-2010: Aug-09 to Aug-20</em> to <em>biweekly-2010: Aug-23 to Sep-03</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed 2010-08-31T11:51:51-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>other</em> to <em>build</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed 2010-09-03T17:36:16-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
The imagej project has been migrated from Git to SVN, and a Maven version exists on the ijx branch as of <a class="missing changeset" title="No default repository defined">r1364</a>.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed 2010-09-06T22:19:23-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
More Maven conversions:<br />
</p>
<ul><li>jvmlink: <a class="ext-link" href="http://dev.loci.wisc.edu/trac/software/intertrac/r6884" title="r6884 in LOCI Software"><span class="icon"> </span>loci-java:r6884</a>
</li><li>multi-lut: <a class="ext-link" href="http://dev.loci.wisc.edu/trac/software/intertrac/r6885" title="r6885 in LOCI Software"><span class="icon"> </span>loci-java:r6885</a>
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed 2010-09-06T22:23:37-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
Migration of imglib to Maven is more involved and now has a separate ticket: <a class="closed ticket" href="/ticket/184" title="task: Migrate imglib to Maven (closed: fixed)">#184</a>.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed 2010-09-06T23:52:51-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
More Maven conversions:<br />
</p>
<ul><li>ome-editor: <a class="ext-link" href="http://dev.loci.wisc.edu/trac/software/intertrac/r6893" title="r6893 in LOCI Software"><span class="icon"> </span>loci-java:r6893</a>
</li><li>ome-notes: <a class="ext-link" href="http://dev.loci.wisc.edu/trac/software/intertrac/r6892" title="r6892 in LOCI Software"><span class="icon"> </span>loci-java:r6892</a>
</li></ul><p>
 <br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed 2010-09-09T16:55:34-05:00 by curtis
                </h3>
                
    <div class="comment searchable">
      
      <p>
More Maven conversions:<br />
</p>
<ul><li>imagej (trunk): 5edb0e269f08a596c926bc171d516f7b3f85631f
</li><li>test-suite: <a class="ext-link" href="http://dev.loci.wisc.edu/trac/software/intertrac/r6908" title="r6908 in LOCI Software"><span class="icon"> </span>loci-java:r6908</a>
</li></ul><p>
Remaining projects:<br />
</p>
<ul><li>autogen
</li><li>bf-ice
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed 2010-09-10T17:04:08-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Maven version of autogen package added in <a class="ext-link" href="http://dev.loci.wisc.edu/trac/software/intertrac/r6914" title="r6914 in LOCI Software"><span class="icon"> </span>loci-java:r6914</a>. However, the package is out of date and thus needs updating (see ticket <a class="closed ticket" href="/ticket/200" title="defect: Clean up autogen package (closed: wontfix)">#200</a>). The bf-ice package has been removed for the time being, as it was extremely out of date anyway (see also <a class="ext-link" href="http://dev.loci.wisc.edu/trac/software/intertrac/%23304" title="#304 in LOCI Software"><span class="icon"> </span>loci-java:#304</a>).<br />
</p>
<p>
Still lots of work to be done on the Maven front, but the projects are all migrated, so I'm closing the ticket. Next up is merging with trunk: <a class="closed ticket" href="/ticket/201" title="task: Merge maven branch to trunk (closed: fixed)">#201</a>.<br />
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="/wiki/TracTickets">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="/ticket/96?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="/ticket/96?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="/ticket/96?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/about"><strong>Trac 0.12.2</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the ImageJ project at<br /><a href="http://developer.imagej.net/">http://developer.imagej.net/</a></p>
    </div>
  </body>
</html>
