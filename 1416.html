<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #1416 (Cannot take a composite view to grayscale data via type change)
     â€“ ImageJ
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" /><link rel="stylesheet" href="tracvote.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/ticket/1416">Ticket #1416</a>
          <span class="status">(closed defect: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2012-08-15T14:02:42-05:00</p>
    <p>Last modified 2012-08-30T10:29:41-05:00</p>
  </div>
  <h2 class="summary searchable">Cannot take a composite view to grayscale data via type change</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        bdezonia
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        bdezonia
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              major
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="/milestone/imagej2-b4-plugins">imagej2-b4-plugins</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              Plugins
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              
        </td>
    </tr><tr>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              serious
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
              <a class="closed" href="/ticket/1333" title="Add new functionality to showcase IJ2 [plugins]">#1333</a>
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Right now if you load a multichannel image (neuron for instance), use the Channels Tool to make the view composite, and then type change to something else the data is not a single channel grayscale composite image but a multichannel noncomposite image. It would be nice if somehow the user could take a composite view to a grayscale image.<br />
</p>
<p>
However right now TypeChanger works with Datasets. And thats nice because it has no reliance on the UI classes. If we can allow a user to change the composite channel count of a Dataset (i.e. a Make Composite plugin) then user can get a grayscale from any Dataset. But having Make COmposite and also Channels Tool :: Composite may be confusing. Think about this some more.<br />
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2012-08-15T14:29:23-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>1333</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2012-08-16T09:57:39-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
Curtis and Barry agree that setting the Dataset's composite channel count isn't robust. It's meant to track what the data source provided. And since there are possibly multiple DatasetViews per Dataset changing it would affect multiple windows.<br />
</p>
<p>
Some discussion was made to have DatasetView have a separate tracking of composite channel count. And having the type changer work from a DatasetView. We could have multiple translation layers (i.e. type change a Dataset or type change a DatasetView)<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2012-08-30T09:58:28-05:00 by bdezonia
                </h3>
                
    <div class="comment searchable">
      
      <p>
Note that as implemented now a merged dataset always goes to a grayscale composite image. We have now lost the ability to have multichannel grayscale image as a result of a type change. We need to distinguish on the view's isComposite() flag to decide whether to translate to grayscale composite or grayscale multichannel.<br />
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2012-08-30T10:29:41-05:00 by bdezonia
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
With commit 6f37d506f9804a7e4eb53896852df2cb238dd7d8 the type changing code now makes it composite gray image if Image :: Colors :: Channels Tool shows mode to be Composite. Otherwise it makes a multichannel gray image.<br />
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    </div>
  </body>
</html>
